<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard - Kiyamid College</title>
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="css/style.css" />
  <style>
    body { background-color: #f8f9fa; padding-top: 70px; }
    .stats-card { background-color: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .tab-content { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .navbar-brand img { border-radius: 50%; }
     .preview { max-width: 300px; margin-top: 10px; }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top shadow">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <img src="image/logo.png" alt="Logo" width="40" height="40" class="me-2" />
        Kiyamid College
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active " href="">Admin Dashboard</a></li>
          <li class="nav-item"><button type="button" class="btn btn-outline-light ms-3" data-bs-toggle="modal" data-bs-target="#registerModal">Create New User</button></li>
          <li class="nav-item"><button class="btn btn-outline-light ms-3" onclick="logout()"><i class="fas fa-sign-out-alt me-1"></i>Logout</button></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Dashboard Header -->
  <section class="container text-center mb-4">
  <!-- Dashboard Header -->
    <h1 class="display-5">Welcome, <span id="adminName">Admin</span></h1>
    <p class="text-muted">Manage website content securely and efficiently</p>
  </section>

  <div class="container">
    <!-- Stats Overview -->
    <div class="row g-4 mb-4">
      <div class="col-md-4">
        <div class="stats-card text-center">
          <i class="fas fa-newspaper fa-2x text-primary mb-2"></i>
          <h3 id="newsCount">0</h3>
          <p>News Articles</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stats-card text-center">
          <i class="fas fa-comments fa-2x text-success mb-2"></i>
          <h3 id="commentsCount">0</h3>
          <p>User Comments</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stats-card text-center">
          <i class="fas fa-user-graduate fa-2x text-warning mb-2"></i>
          <h3 id="applicationsCount">0</h3>
          <p>Applications</p>
        </div>
      </div>
    </div>

    <!-- Admin Tabs -->
    <ul class="nav nav-tabs mb-3" id="adminTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="news-tab" data-bs-toggle="tab" data-bs-target="#news" type="button" role="tab">
          <i class="fas fa-newspaper me-2"></i>News Management
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="comments-tab" data-bs-toggle="tab" data-bs-target="#comments" type="button" role="tab">
          <i class="fas fa-comments me-2"></i>Comments
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="applications-tab" data-bs-toggle="tab" data-bs-target="#applications" type="button" role="tab">
          <i class="fas fa-file-alt me-2"></i>Applications
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="categories-tab" data-bs-toggle="tab" data-bs-target="#categories" type="button" role="tab">
          <i class="fas fa-tags me-2"></i>Categories
        </button>
      </li>
    </ul>

    <div class="tab-content" id="adminTabsContent">
      <!-- News Tab -->
      <div class="tab-pane fade show active" id="news" role="tabpanel">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4>News Articles</h4>
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addNewsModal"><i class="fas fa-plus me-1"></i>Add News</button>
        </div>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Title</th>
                <th>Preview</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="adminNewsList"></tbody>
          </table>
        </div>
      </div>

      <!-- Comments Tab -->
      <div class="tab-pane fade" id="comments" role="tabpanel">
        <h4 class="mb-3">User Comments</h4>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Comment</th>
                <th>Date</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="adminCommentsList"></tbody>
          </table>
        </div>
      </div>

      <!-- Applications Tab -->
      <div class="tab-pane fade" id="applications" role="tabpanel">
        <h4 class="mb-3">Admission Applications</h4>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Program</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody id="adminApplicationsList"></tbody>
          </table>
        </div>
      </div>
            
      <div class="tab-pane fade" id="categories" role="tabpanel">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4>News Categories</h4>
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addCategoryModal">
            <i class="fas fa-plus me-1"></i>Add Category
          </button>
        </div>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Category Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="adminCategoriesList"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
<!-- Register Button to Trigger Modal -->
<div class="text-center py-5">
</div>

<!-- Registration Modal -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-heade">
        <button type="button" class="btn-close float-end" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="registerForm" onsubmit="register(event)">
          <div class="text-center mb-4">
              <i class="fas fa-user fa-3x text-primary mb-3"></i>
              <h2>Create New User</h2>
              <p class="text-muted">Register user to manage website content</p>
            </div>
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <div class="input-group">
               <span class="input-group-text"><i class="fas fa-user"></i></span>
               <input type="text" class="form-control" id="username" required />
             </div>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
             <div class="input-group">
               <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                <input type="email" class="form-control" id="email" required>
             </div>
          </div>
          <div class="mb-3">
           <label for="password" class="form-label">Password</label>
              <div class="input-group">
                <span class="input-group-text"><i class="fas fa-key"></i></span>
                <input type="password" class="form-control" id="password" required />
              </div>
          </div>
          <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-key"></i></span>
                   <input type="password" class="form-control" id="confirmPassword" required>
                </div>
          </div>
          <div class="d-grid">
            <button type="submit" class="btn btn-primary btn-lg">Register</button>
          </div>
        </form>
        <p class="text-center mt-3">Already have an account? <a href="login.html">Login here</a></p>
      </div>
    </div>
  </div>
</div>

<!-- Add Category Modal -->
<div class="modal fade" id="addCategoryModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Add Category</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="addCategoryForm">
          <div class="mb-3">
            <label class="form-label">Category Name</label>
            <input type="text" class="form-control" id="categoryName" required />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="addCategory()">Save</button>
      </div>
    </div>
  </div>
</div>

  <!-- Add News Modal -->
  <div class="modal fade" id="addNewsModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add News Article</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="addNewsForm" enctype="multipart/form-data">
            <div class="mb-3">
              <label class="form-label">Title</label>
              <input type="text" class="form-control" id="newsTitle" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Content</label>
              <textarea class="form-control" id="newsContent" rows="4" required></textarea>
            </div>
            <div class="mb-3">
              <label class="form-label">Category ID (optional)</label>
              <select class="form-control" id="newsCategory">
              </select>
              
            </div>
            <div class="mb-3">
     <label class="form-label">Image (optional)</label>
    <input  class="form-control" type="file"  id="newsImageFile" name="image" accept="image/*">
  </div>
         <div id="previewContainer">
                <img id="preview" class="preview" style="display: none;">
            </div>

          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="addNews()">Save</button>
        </div>
      </div>
    </div>
  </div>
 <div class="modal fade" id="editmodal"></div>
  <footer class="bg-dark text-white text-center py-4 mt-5">
    <p>&copy; 2025 Kiyamid College. All rights reserved.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/main.js"></script>
  
    
</body>
</html>
